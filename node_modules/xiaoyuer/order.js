var request = require('request'),
    fs = require("fs"),
    req_json = require("request-json");
var baseUrl = JSON.parse(fs.readFileSync(__dirname+"/../../shared/appConfig")).mybaseUrl;
/*
*获取订单详情
* @param orderid,type
 */

exports.getOrderInfo = function (orderid,type,callback){
    var url = baseUrl + "/order/info?id=" + orderid +"&type="+type;
    request(url,function(error,response,body){
        if (!error && response.statusCode==200){
            var resultObj = JSON.parse(body);
            if(body.error){

            }
            else
                callback(resultObj);
        }
    })
}

/*
 *获取服务订单列表
 * 分页获取
 */
exports.get_service_order = function(openid,page,callback){
    var url = baseUrl + "/order/service.action?openid=" + openid + "&page=" + page;
    request(url,function(error,response,body){
        if (!error && response.statusCode==200){
            var resultObj = JSON.parse(body);
            if(body.error)
            {}
            else
                callback(resultObj);
        }
    })
}
/*
*获取需求订单列表
* 分页获取
* @param openid,page
 */
exports.get_require_order = function(openid,page,callback){
    var url = baseUrl + "/order/require.action?openid=" + openid + "&page=" + page;
    request(url,function(error,response,body){
        if (!error && response.statusCode==200){
            var resultObj = JSON.parse(body);
            if(body.error)
            {}
            else
                callback(resultObj);
        }
    })
}
/*
 *获取公益服务订单列表
 * 分页获取
 * @param openid,page
 */
exports.get_welfare_ser_order = function(openid,page,callback){
    var url = baseUrl + "/order/wservice.action?openid=" + openid + "&page=" + page;
    request(url,function(error,response,body){
        if (!error && response.statusCode==200){
            var resultObj = JSON.parse(body);
            if(body.error)
            {}
            else
                callback(resultObj);
        }
    })
}
/*
 *获取公益需求订单列表
 * 分页获取
 * @param openid,page
 */
exports.get_welfare_ser_order = function(openid,page,callback){
    var url = baseUrl + "/order/wrequire.action?openid=" + openid + "&page=" + page;
    request(url,function(error,response,body){
        if (!error && response.statusCode==200){
            var resultObj = JSON.parse(body);
            if(body.error)
            {}
            else
                callback(resultObj);
        }
    })
}
/*
 *获取大赛订单列表
 * 分页获取
 * @param openid,page
 */
exports.get_welfare_ser_order = function(openid,page,callback){
    var url = baseUrl + "/order/wrequire.action?openid=" + openid + "&page=" + page;
    request(url,function(error,response,body){
        if (!error && response.statusCode==200){
            var resultObj = JSON.parse(body);
            if(body.error)
            {}
            else
                callback(resultObj);
        }
    })
}